# 手势识别旋转优化说明

## 🎯 优化目标

提高手势识别控制圣诞树旋转的灵敏度和流畅度。

## 🔧 优化内容

### 1. **提高速度倍数**
- **之前**: `0.15` 倍速度
- **现在**: `0.8` 倍速度
- **效果**: 旋转速度提高约 5 倍，响应更灵敏

### 2. **降低最小速度阈值**
- **之前**: `0.01` - 小的移动被忽略
- **现在**: `0.005` - 更小的移动也能触发旋转
- **效果**: 提高灵敏度，减少无效区域

### 3. **添加死区（Dead Zone）**
- **新增**: 中心区域 `15%` 的死区
- **效果**: 避免手在屏幕中心时的微小抖动导致不必要的旋转

### 4. **指数平滑处理**
- **平滑系数**: `0.7` (可调)
- **效果**: 减少抖动，让旋转更流畅自然

### 5. **移动速度检测**
- **新增**: 不仅检测手的位置，还检测移动速度
- **效果**: 快速移动手时，旋转响应更快

### 6. **非线性响应曲线**
- **实现**: 使用 `Math.pow(..., 0.7)` 曲线
- **效果**: 边缘区域响应更快，控制更精准

### 7. **平滑减速**
- **新增**: 当没有检测到手势时，速度平滑衰减
- **效果**: 停止旋转更自然，不会突然停止

### 8. **帧率无关旋转**
- **改进**: 使用 `delta` 时间参数
- **效果**: 不同帧率下旋转速度一致

## 📊 参数说明

可以在 `src/App.tsx` 的 `GestureController` 中调整以下参数：

```typescript
const SMOOTHING_FACTOR = 0.7; // 平滑系数 (0-1)
// - 值越大：越平滑但响应越慢
// - 值越小：响应越快但可能抖动
// - 推荐范围：0.5 - 0.8

const SPEED_MULTIPLIER = 0.8; // 速度倍数
// - 值越大：旋转越快
// - 推荐范围：0.5 - 1.5

const DEAD_ZONE = 0.15; // 死区大小
// - 值越大：中心不响应区域越大
// - 推荐范围：0.1 - 0.2

const MIN_SPEED = 0.005; // 最小速度阈值
// - 值越小：越敏感
// - 推荐范围：0.003 - 0.01
```

## 🎮 使用建议

1. **如果旋转太快**：
   - 降低 `SPEED_MULTIPLIER`（例如改为 `0.5`）

2. **如果旋转太慢**：
   - 提高 `SPEED_MULTIPLIER`（例如改为 `1.2`）

3. **如果抖动严重**：
   - 提高 `SMOOTHING_FACTOR`（例如改为 `0.8`）

4. **如果响应不够灵敏**：
   - 降低 `MIN_SPEED`（例如改为 `0.003`）
   - 降低 `DEAD_ZONE`（例如改为 `0.1`）

5. **如果想要更平滑的停止**：
   - 调整衰减系数（当前为 `0.9`，值越大衰减越慢）

## 🔍 调试模式

打开 DEBUG 模式可以查看实时信息：
- `SPEED: X.XXX` - 当前旋转速度
- `X: X.XX` - 手部 x 坐标位置

这可以帮助你调整参数以获得最佳体验。

## ✅ 预期效果

优化后，手势控制应该：
- ✅ 更灵敏：小的手部移动也能触发旋转
- ✅ 更流畅：旋转更平滑，没有抖动
- ✅ 更精准：边缘区域响应更快
- ✅ 更自然：停止时平滑减速

